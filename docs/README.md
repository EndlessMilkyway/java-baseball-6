## 기능 요구 사항

- 분석
  - 상대방 즉 추론해야 하는 수를 제시하는 역할 - 컴퓨터
  - 제시하는 수를 추론해야 하는 역할 - 사용자
  - 입력
    - **제출하고자 하는 정답**: 3자리로 이루어진 수, 각 자리의 수는 **1~9**, 최소 111에서 최대 999
    - **커맨드**: 1(재시작), 2(종료)
  - 정답 검증 로직
    - 같은 수가 같은 자리에 있으면 스트라이크
    - 다른 자리에 있으면 볼
    - 같은 수가 전혀 없으면 낫싱

## 구현할 기능 목록

- 시작 문구 출력

  - 애플리케이션이 처음 실행될 때 아래와 같은 시작 문구를 출력해야 한다

    ```
    숫자 야구 게임을 시작합니다.
    ```

- 난수 생성 기능

  - `camp.nextstep.edu.missionutils`에서 제공하는 `Randoms` API를 통해 생성한 난수를 변수 공간을 생성해 저장
    - 난수 값 추출은 `camp.nextstep.edu.missionutils.Randoms`의 `pickNumberInRange()` 사용

- 사용자에게 입력을 받는 기능

  - `camp.nextstep.edu.missionutils`에서 제공하는 `Console` API를 통해 생성한 난수를 변수 공간을 생성해 저장

  - 시작 문구가 출력된 이후와 입력한 숫자가 정답이 아닐 경우에는 아래와 같은 입력 안내 메시지가 나온다.

    ```
    숫자를 입력해주세요 : 
    ```

- 사용자의 입력을 생성된 난수와 비교하는 기능

  - 사용자의 입력과 생성된 난수를 비교하여

    - **같은 수**가 **같은 자리**에 있으면 **스트라이크** ex) randNum = 953, usersInput = 157 ➔ 1스트라이크
    - **같은 수**가 **다른 자리**에 있으면 **볼** ex) randNum = 162, usersInput = 791 ➔ 1볼

    도출된 결과를 반환

- 결과 출력

  - 볼과 스트라이크의 개수가 0보다 많을 경우 아래와 같은 형식으로 볼, 스트라이크 개수 표시

    ```
    1볼 1스트라이크
    ```

  - 그렇지 않을 경우

    ```
    낫싱
    ```

  - 3개의 숫자를 모두 맞힐 경우

    ```
    3스트라이크
    3개의 숫자를 모두 맞히셨습니다! 게임 종료
    ```

- 재시작 여부 확인

  - 사용자가 모든 숫자를 추론하여 게임이 끝날 경우 (1과 2) 두 커맨드를 사용하여 재시작 또는 종료 여부를 결정할 수 있음

    - 게임 종료 후 아래와 같은 메시지 출력

      ```
      게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.
      ```

    - 만일 사용자의 입력이 1일 경우 게임을 다시 시작하고, 2일 경우에는 종료해야 한다.

- 에러 처리

  - 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시킨 후 애플리케이션 종료



## MVC 패턴으로 생각해본다면?

- Model
  - [x] 컴퓨터가 생성한 3자리의 난수로 이루어진 정답
    - [x] 중복 방지
- View
  - [x] 시작 문구 출력
  - [x] 입력 안내 메시지
  - [ ] 결과 출력 
    - [ ] 볼 또는 스트라이크가 있을 때
    - [ ] 아무것도 적중하지 못했을 때
    - [ ] 모두 맞혔을 때
  - [ ] 재시작 여부 확인
- Controller
  - [x] 난수 생성 기능
  - [x] 사용자에게 입력을 받는 기능
    - [x] 사용자의 입력이 잘못됐을 경우 에러 발생 후 종료
  - [x] 사용자의 입력과 생성된 난수를 비교하는 기능

## 개발 현황

1. 모델(컴퓨터가 생성한 3자리의 난수로 이루어진 정답)을 먼저 구현하기로 하였다.

   정답은 3개의 숫자로 이루어져 있다 ➔ 배열을 이용할까? 각기 다른 변수에 저장할까?

   **ArrayList**를 이용하기로 결정

2. 시작 문구와 입력 안내 메시지를 출력하는 메서드를 InputView 클래스에 구현

3. 3자리로 이루어진 난수를 생성하는 createAnswer 메서드를 NumberGenerator 클래스에 구현

   중복된 숫자가 나오는 것을 방지하도록 이를 방지하는 로직을 구현

4. 사용자의 입력과 컴퓨터가 생성한 난수를 비교 후 결과를 계산하는 메서드를 Answer 클래스에 구현 해당 메서드는 GameScore 객체를 반환한다.

5. 비교 결과를 저장하는 GameScore 클래스를 생성하였다. 해당 클래스는 int형 변수 strike와 ball을 가지고 있다. 객체 내부 값을 getter로 참조하지 않고 객체 내부에서 동작이 이루어지도록 하였다.

   메서드를 통해 객체를 참조 및 수정할 수 있게 함으로써 객체에 대한 무분별한 접근을 방지하였다.


## 테스트 케이스 목록

- `InputTest`: `InputView`클래스의 메서드 `inputGuideMsg`에 대한 단위 테스트
  
  - 해당 메서드는 "숫자를 입력해주세요 : "라는 메세지를 출력 후 Console API를 이용해 사용자에게 숫자를 입력받는다.
    - `InputTest`의 메서드 `입력_테스트`에서 사용자의 입력을 메서드가 정상적으로 반환하는지 테스트하여 통과하였다.
    - `InputTest`의 메서드 `입력_테스트`에서 사용자가 올바르지 않은 값을 입력할 경우 예외가 반환되는지 테스트하여 통과하였다.
  
- `RandTest`: `NumberGenerator`클래스의 메서드 `createAnswer`에 대한 단위 테스트
  
  - 해당 메서드는 Randoms API를 이용해 3자리의 난수를 생성하여 이를 Answer객체 반환한다.
    - `RandTest`의 메서드 `난수_생성_여부_확인`에서 `createAnswer`이 정확히 3자리의 수를 반환하는지 테스트하여 통과하였다.
    
    - 추가사항: 기존 NumberGenerator클래스의 반환형이 List<Integer>에서 Answer 객체로 바뀐 데 따라 기존의 방식으로 코드의 유효성을 검증할 수 없었다.
    
      이에 따라 mock데이터를 생성한 후 이것과 Answer를 비교하게 함으로써 간접적으로 난수가 정상적으로 생성된다는 것을 검증했다.